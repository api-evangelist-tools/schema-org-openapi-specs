---
layout: page
title: 'Schema.org OpenAPI Specs'
---

<script type="text/javascript">
  function showme($id)
    {
    console.log($id);
    if(document.getElementById($id).style.display=='none')
      {
      document.getElementById($id).style.display = '';
      }
    else
      {
      document.getElementById($id).style.display = 'none';
      }
    }
</script>

<table cellpadding="3" cellspacing="2" width="100%" border="0" style="margin-top: 0px;">

{% assign index = site.data.apis %}
{% assign apijson = index[0] %}
{% assign contents = site.data.api-commons %}
{% assign apicommons = contents %}

  <tr>
    <td>
        <span style="font-size: 22px;"><strong>{{ apijson.name }}</strong></span>
    </td>
  </tr>
  <tr>
    <td style="padding: 10px;">
      {{ apijson.description }}
    </td>
  </tr>
  <tr>
    <td>
      <table width="100%" border="0" style="padding-top: 10px;">
        <tr>
        <td align="center" style="margin-left: 90px; margin-right: 90px;">

            {% assign api_action_url = '' %}
            {% assign numberofapis = apijson.apis | size %}

                {% assign api_action_url = '' %}
                {% for api in apijson.apis %}

                <table cellpadding="1" cellspacing="1" width="100%" border="0">

                    {% assign api_action_spec = '' %}
                    {% assign api_action_url = '' %}
                    {% assign openapi_spec_json = '' %}

                    {% for property in api.properties %}

                      {% assign thisname = apijson.name | downcase %}
                      {% assign thisname = thisname | append:'/' %}
                      {% assign thisname = thisname | replace: ' ','-' %}

                      {% if property.type == 'x-json-schema' %}
                        {% assign json_schema_url = property.url %}
                      {% endif %}

                      {% if property.type == 'X-openapi-spec-json' %}

                        {% assign openapi_json_spec_url = property.url %}
                        {% assign pathname = openapi_json_spec_url | replace: site.url,'' %}
                        {% assign pathname = pathname | replace: '/_data/api-commons/','' %}
                        {% assign pathname = pathname | replace: thisname,'' %}
                        {% assign pathname = pathname | replace: '/','' %}
                        {% assign pathname = pathname | replace: '.json','' %}
                        {% assign openapi_spec_json = file | map: pathname %}
                        1: {{ pathname }}
                      {% endif %}

                      {% if property.type == 'X-openapi-spec-yaml' %}

                        {% assign openapi_yaml_spec_url = property.url %}
                        {% assign pathname = openapi_json_spec_url | replace: site.url,'' %}
                        {% assign pathname = pathname | replace: '/_data/api-commons/','' %}
                        {% assign pathname = pathname | replace: thisname,'' %}
                        {% assign pathname = pathname | replace: '/','' %}
                        {% assign pathname = pathname | replace: '.yaml','' %}
                        2: {{ pathname }}
                        {% assign openapi_spec_yaml = file | map: pathname %}

                      {% endif %}

                    {% endfor %}

                    <tr>
                      <td align="left" style="font-size: 14px; padding: 10px;">
                        {{ api.name }}
                      </td>
                      <td align="center" style="padding: 10px; width: 50px;">
                        <a href="#" target="_blank" onclick="showme('methods-for-{{ pathname }}-spec-json'); return false;" title="OpenAPI Spec JSON" style="font-size: 12px;">
                          <img src="https://s3.amazonaws.com/kinlane-productions/bw-icons/bw-swagger-round.png" width="25" align="right" />
                        </a>
                      </td>
                      <td align="center" style="padding: 10px; width: 50px;">
                        <a href="#" target="_blank" onclick="showme('methods-for-{{ pathname }}-spec-json'); return false;" title="OpenAPI Spec YAML" style="font-size: 12px;">
                          <img src="https://s3.amazonaws.com/kinlane-productions/bw-icons/bw-yaml.png" width="25" align="right" />
                        </a>
                      </td>
                    </tr>
                    <tr id="methods-for-{{ pathname }}-spec-json" style="display: none;">
                      <td colspan="2">
                          {{ openapi_spec_json }}
                      </td>
                    </tr>
                    <tr id="methods-for-{{ pathname }}-spec-yaml" style="display: none;">
                      <td colspan="2">
                          {{ openapi_spec_yaml }}
                      </td>
                    </tr>
                  </table>
                {% endfor %}
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
